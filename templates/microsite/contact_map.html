<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>{{ title }}</title>
    <link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}css/bootstrap-responsive.min.css"/>
    <link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}css/microsite.css"/>
    <link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}themes/default/theme.css"/>
    <script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="{{ STATIC_URL }}js/bootstrap.min.js"></script>
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=BFd6600742ae05307e9b9b50a00d1fd2"></script>
    <script type="text/javascript" src="http://developer.baidu.com/map/jsdemo/demo/convertor.js"></script>
</head>
<body>
<div id="baidumap" style="height:500px">
</div>
</body>
<script>
var map = new BMap.Map("baidumap");
map.addControl(new BMap.NavigationControl());
var point = new BMap.Point({{ item.lng }}, {{ item.lat }});
var startpoint = new BMap.Point({{ cur_lng }}, {{ cur_lat }});
map.centerAndZoom(startpoint, 15);

var route = new BMap.WalkingRoute(map, {renderOptions:{map: map}});
route.setSearchCompleteCallback(function () {
    console.log("search complete");
});

BMap.Convertor.translate(startpoint, 0, function(spoint) {
    map.addOverlay(new BMap.Marker(spoint));
    map.addOverlay(new BMap.Marker(point));
    route.search(spoint, point);
});
</script>

